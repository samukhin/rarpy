# RAR Архиватор

Простой архиватор RAR 5.0, реализованный на Python 3.x. Создаёт архивы в режиме store (без сжатия). Архивы совместимы с официальным unrar 5.x и выше.

## Особенности

- Создаёт архивы RAR 5.0
- Только режим store (без сжатия)
- Поддержка добавления файлов и папок
- Совместим с официальным unrar
- Улучшенная обработка ошибок с кастомными исключениями

## Юридическая безопасность

Реализация использует только режим store и не реализует патентованные алгоритмы RAR 5, такие как RangeCoder или специфические улучшения LZ-77. Проект разработан для юридической безопасности и не нарушает патенты.

## Зависимости

- Python 3.6+ (стандартная библиотека: struct, pathlib, zlib, os, sys, logging)

## Использование

### Командная строка:
```bash
python rar.py a archive.rar file1.txt folder/
```

### Программно:
```python
from rar import create_rar
import pathlib

create_rar(pathlib.Path("archive.rar"), [pathlib.Path("file1.txt"), pathlib.Path("folder/")])
```

## Тестирование

1. Создайте архив: `python rar.py a test.rar file1.txt folder/`
2. Распакуйте: `unrar x test.rar`
3. Сравните контрольные суммы оригинальных и распакованных файлов

## Обработка ошибок

- **InvalidPathError**: Недействительные пути.
- **FileReadError**: Ошибки чтения файлов.
- **RarCreationError**: Ошибки создания архива.
- Логирование ошибок в stderr.

## Troubleshooting

- **Архив не распаковывается?** Убедитесь, что unrar версии 5.x или выше установлен.
- **Ошибка "Путь не существует"?** Проверьте, что файлы/директории существуют и доступны.
- **Долгое создание архива?** Для больших файлов используйте `--verbose` для отслеживания прогресса.
- **Подозрительные пути в логах?** Это предупреждения о path traversal — проверьте входные пути.

## Security Notes

- Архиватор логирует попытки path traversal (выход за пределы текущей директории) для безопасности.
- Не используйте с непроверенными входными данными.
- RAR 5.0 store mode не шифрует данные — для чувствительных файлов рассмотрите шифрование.

## Лицензия

MIT License. Проект распространяется свободно, без гарантий.

## Контакты

Для вопросов или вклада: создайте issue на GitHub.
